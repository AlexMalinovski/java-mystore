databaseChangeLog:
  #Table
  - changeSet:
      id: 000000000001-create-table-orders
      author: Aleksey Malinovsky
      changes:
        - createTable:
            tableName: orders
            columns:
              - column: { name: id, type: bigint, autoIncrement: true, remarks: 'Id заказа', constraints: { primaryKey: true, nullable: false, primaryKeyName: pk_orders} }
              - column: { name: status, type: varchar(15), remarks: 'Статус', constraints: { nullable: false } }
              - column: { name: user_id, type: bigint, remarks: 'id пользователя', constraints: { nullable: false } }

  - changeSet:
      id: 000000000002-add-foreign-key-user_id
      author: Aleksey Malinovsky
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: orders
            constraintName: fk_orders_user_id
            onDelete: CASCADE
            onUpdate: CASCADE
            referencedColumnNames: id
            referencedTableName: users
            validate: true
